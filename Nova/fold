fold ({E} seq) with (A <- (A,E) f) from left starting (A start) the A
  recl (seq.end, seq.start, start)

local recl (Int stop, Int i, A end) the A
        if i == stop
          end
          else
          rec (i + 1, f (end, seq.i))

fold ({E} seq) with (A <- (E,A) f) from right starting (A start) the A
  recr (seq.start, seq.end - 1, start)

local recr (Int stop, Int i, A end) the A
        if i < stop
          end
          else
          rec (i - 1, f (seq.i, start))

fold (Array E arr, Int size) with (A <- (A,E) f) from left starting (A start) the A
  recl (size, 0, start)

fold (Array E arr, Int size) with (A <- (E,A) f) from right starting (A start) the A
  recr (0, size - 1, start)
