map (R <- E fn) on ({E} seq)
  rec (newseq = seq, i = seq.start)
    if i == seq.end
      newseq
      else
      set newseq.i to fn seq.i

map (R <- E fn) on (List E ls)
  if ls
    set ls.(car, cdr) to (fn ls.car, map fn on ls.cdr)
    else void
